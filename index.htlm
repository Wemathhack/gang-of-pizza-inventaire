<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üçï Gang of Pizza - Inventaire</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body {
    margin: 0;
    font-family: 'Comic Sans MS', cursive, sans-serif;
    background: linear-gradient(135deg, #ff7f50, #ffcc70, #ff69b4);
    color: #222;
}

header {
    text-align: center;
    padding: 20px;
    position: relative;
}

/* Logo rond rouge d√©goulinant */
.logo {
    width: 80px;
    height: 80px;
    background: red;
    border-radius: 50%;
    color: white;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    margin: auto;
    box-shadow: 0 8px 0 0 red, 0 16px 0 0 red, 0 24px 0 0 red;
    line-height: 1.2;
}

h1 {
    margin-top: 10px;
    font-size: 26px;
    color: white;
    text-shadow: 2px 2px #000;
}

.container {
    padding: 20px;
    max-width: 500px;
    margin: auto;
    background: rgba(255,255,255,0.1);
    border-radius: 15px;
}

select {
    width: 100%;
    padding: 10px;
    margin-bottom: 20px;
    border-radius: 12px;
    border: none;
    font-size: 16px;
    background: #fff3;
}

.section-title {
    margin-top: 20px;
    font-size: 20px;
    border-bottom: 2px solid #b30000;
    padding-bottom: 5px;
}

.item {
    margin: 8px 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.item input[type="number"] {
    width: 60px;
    padding: 5px;
    border-radius: 8px;
    border: none;
    text-align: center;
}

button {
    width: 100%;
    padding: 15px;
    margin-top: 20px;
    background: #b30000;
    color: white;
    border: none;
    border-radius: 12px;
    font-size: 18px;
    cursor: pointer;
    font-weight: bold;
}

button:hover {
    background: #ff0000;
}

#result {
    margin-top: 20px;
    background: rgba(0,0,0,0.5);
    padding: 15px;
    border-radius: 10px;
    color: white;
    white-space: pre-line;
}
hr {
    border: 1px dashed white;
    margin: 20px 0;
}
</style>
</head>

<body>

<header>
  <div class="logo">Gang of Pizza<br>Nord Is√®re</div>
  <h1>üçï Inventaire Distributeurs</h1>
</header>

<div class="container">

<select id="distributeur">
    <option value="">-- Choisir un distributeur --</option>
    <option>Saint-Quentin-Fallavier</option>
    <option>Oytier</option>
    <option>Pommier-de-Beaurepaire</option>
    <option>Biol</option>
    <option>Charavines</option>
</select>

<!-- Snacks -->
<div class="section-title">ü•® Snacks</div>
<div class="item">Cookie Milka <input type="number" min="0" value="0"></div>
<div class="item">Saucisson <input type="number" min="0" value="0"></div>
<div class="item">Chips <input type="number" min="0" value="0"></div>
<div class="item">Bueno White <input type="number" min="0" value="0"></div>
<div class="item">Madeleine <input type="number" min="0" value="0"></div>
<div class="item">M&M's <input type="number" min="0" value="0"></div>
<div class="item">Snickers <input type="number" min="0" value="0"></div>
<div class="item">Haribos Dragibus <input type="number" min="0" value="0"></div>
<div class="item">Lion <input type="number" min="0" value="0"></div>
<div class="item">Haribos Happy Life <input type="number" min="0" value="0"></div>
<div class="item">Kinder White <input type="number" min="0" value="0"></div>
<div class="item">Kinder Marron <input type="number" min="0" value="0"></div>

<!-- Boissons 33cl -->
<div class="section-title">ü•§ Boissons 33 cl</div>
<div class="item">Coca 33 cl <input type="number" min="0" value="0"></div>
<div class="item">Coca Cherry 33 cl <input type="number" min="0" value="0"></div>
<div class="item">Redbull <input type="number" min="0" value="0"></div>
<div class="item">Oasis Cassis Framboise 33 cl <input type="number" min="0" value="0"></div>
<div class="item">Oasis Tropical 33 cl <input type="number" min="0" value="0"></div>
<div class="item">Caraibos Goyave 33 cl <input type="number" min="0" value="0"></div>
<div class="item">Caraibos Banane 33 cl <input type="number" min="0" value="0"></div>
<div class="item">Caraibos Mangue 33 cl <input type="number" min="0" value="0"></div>
<div class="item">Orangina 33 cl <input type="number" min="0" value="0"></div>
<div class="item">Ice Tea 33 cl <input type="number" min="0" value="0"></div>
<div class="item">Pulco 33 cl <input type="number" min="0" value="0"></div>

<hr>

<!-- Boissons 50cl -->
<div class="section-title">ü•§ Boissons 50 cl</div>
<div class="item">Coca 50 cl <input type="number" min="0" value="0"></div>
<div class="item">Cristaline Fraise 50 cl <input type="number" min="0" value="0"></div>
<div class="item">Cristaline 50 cl <input type="number" min="0" value="0"></div>
<div class="item">Coca Cherry 50 cl <input type="number" min="0" value="0"></div>
<div class="item">Fuze Tea 50 cl <input type="number" min="0" value="0"></div>
<div class="item">Monster 50 cl <input type="number" min="0" value="0"></div>
<div class="item">Monster Bleu 50 cl <input type="number" min="0" value="0"></div>
<div class="item">San Pellegrino 50 cl <input type="number" min="0" value="0"></div>
<div class="item">Oasis Cassis 50 cl <input type="number" min="0" value="0"></div>

<!-- Packs -->
<div class="section-title">üì¶ Packs</div>
<div class="item">Pack Coca 33 cl <input type="number" min="0" value="0"></div>
<div class="item">Pack Coca 50 cl <input type="number" min="0" value="0"></div>
<div class="item">Pack Cristaline 50 cl <input type="number" min="0" value="0"></div>
<div class="item">Pack Coca Cherry 33 cl <input type="number" min="0" value="0"></div>
<div class="item">Pack Coca Cherry 50 cl <input type="number" min="0" value="0"></div>
<div class="item">Pack Redbull <input type="number" min="0" value="0"></div>
<div class="item">Pack Snack <input type="number" min="0" value="0"></div>
<div class="item">Pack Kinder White <input type="number" min="0" value="0"></div>
<div class="item">Pack Kinder Marron <input type="number" min="0" value="0"></div>

<button onclick="genererResume()">G√©n√©rer le PDF</button>

<div id="result"></div>

</div>

<script>
async function genererResume() {
    const { jsPDF } = window.jspdf;
    const distributeur = document.getElementById("distributeur").value;
    const items = document.querySelectorAll(".item");
    const resultDiv = document.getElementById("result");

    if (!distributeur) {
        resultDiv.innerHTML = "‚ö†Ô∏è Choisis un distributeur.";
        return;
    }

    let message = "üì¶ Inventaire - " + distributeur + "\n\n";
    let hasItem = false;

    items.forEach(item => {
        const input = item.querySelector("input[type='number']");
        if (input && parseInt(input.value) > 0) {
            message += "‚Ä¢ " + item.textContent.trim().replace(input.value, '').trim() + " : " + input.value + "\n";
            hasItem = true;
        }
    });

    if (!hasItem) {
        resultDiv.innerHTML = "‚ö†Ô∏è Aucun produit s√©lectionn√©.";
        return;
    }

    resultDiv.innerHTML = message.replace(/\n/g,'<br>');

    // G√©n√©rer PDF
    const doc = new jsPDF();
    // Logo rond rouge
    doc.setFillColor(255,0,0);
    doc.circle(15, 15, 10, 'F');
    doc.setTextColor(255,255,255);
    doc.setFontSize(6);
    doc.text("Gang of Pizza", 15, 13, { align: "center" });
    doc.text("Nord Is√®re", 15, 18, { align: "center" });

    doc.setTextColor(0,0,0);
    doc.setFontSize(14);
    doc.text(message, 10, 35);
    doc.save("Inventaire-" + distributeur + ".pdf");
}
</script>

</body>
</html>
